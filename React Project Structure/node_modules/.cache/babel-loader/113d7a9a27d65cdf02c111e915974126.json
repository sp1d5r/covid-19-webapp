{"ast":null,"code":"import _slicedToArray from\"/Users/almazahmad/WebstormProjects/covid-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/almazahmad/WebstormProjects/covid-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/almazahmad/WebstormProjects/covid-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/almazahmad/WebstormProjects/covid-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/almazahmad/WebstormProjects/covid-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component,useState}from'react';import'./App.css';import{LineChart,XAxis,YAxis,CartesianGrid,Line,Tooltip,Legend}from'recharts';import{FaSnapchat,FaInstagram,FaLinkedin,FaGithub,FaFacebook}from'react-icons/fa';import ReactMapGL from'react-map-gl';import'bootstrap/dist/css/bootstrap.min.css';import{Dropdown,FormControl,ListGroup}from\"react-bootstrap\";var params={country:\"ca\"};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.onSelected=function(viewport,item){_this.setState({viewport:viewport});};_this.CustomToggle=/*#__PURE__*/React.forwardRef(function(_ref,ref){var children=_ref.children,_onClick=_ref.onClick;return/*#__PURE__*/_jsxs(\"a\",{style:{color:\"inherit\",textDecoration:'none'},href:\"\",ref:ref,onClick:function onClick(e){e.preventDefault();_onClick(e);},children:[children+\" \",\"\\u25BC\"]});});_this.CustomMenu=/*#__PURE__*/React.forwardRef(function(_ref2,ref){var children=_ref2.children,style=_ref2.style,className=_ref2.className,labeledBy=_ref2['aria-labelledby'];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];return/*#__PURE__*/_jsxs(\"div\",{ref:ref,style:style,className:className,\"aria-labelledby\":labeledBy,children:[/*#__PURE__*/_jsx(FormControl,{autoFocus:true,className:\"mx-3 my-2 w-auto\",placeholder:\"Type to filter...\",onChange:function onChange(e){return setValue(e.target.value);},value:value}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled\",children:React.Children.toArray(children).filter(function(child){return!value||child.props.children.toLowerCase().startsWith(value);})})]});});_this.updateInformation=function(country){_this.setState({country:country});fetch('/yesterday/'+country).then(function(res){return res.json();}).then(function(data){_this.setState({information:data[0],viewport:{width:window.innerWidth,height:window.innerHeight,latitude:data[0].Lat?parseInt(data[0].Lat):0,longitude:data[0].Lon?parseInt(data[0].Lon):0,zoom:4}});console.log(_this.state);});fetch('get_confirmed_and_deaths_from_country/'+country).then(function(res){return res.json();}).then(function(data){_this.setState({backgroundData:data});console.log(_this.state);});};_this.state={information:{},viewport:{width:window.innerWidth,height:window.innerHeight,latitude:37.7577,longitude:-122.4376,zoom:4},country:\"United Kingdom\",value:'',listOfCountries:[],backgroundData:{}};return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;fetch('/yesterday/uk').then(function(res){return res.json();}).then(function(data){_this2.setState({information:data[0],viewport:{width:window.innerWidth,height:window.innerHeight,latitude:data[0].Lat?parseInt(data[0].Lat):0,longitude:data[0].Lon?parseInt(data[0].Lon):0,zoom:4}});});fetch('get_confirmed_and_deaths_from_country/uk').then(function(res){return res.json();}).then(function(data){_this2.setState({backgroundData:data});console.log(_this2.state);});fetch('/get_country_list').then(function(res){return res.json();}).then(function(data){_this2.setState({listOfCountries:data});console.log(_this2.state.listOfCountries);});}},{key:\"render\",value:function render(){var _this3=this;this.items=this.state.listOfCountries.map(function(item){return/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:_this3.state.listOfCountries.indexOf(item),active:item===_this3.state.country,onClick:function onClick(){return _this3.updateInformation(item);},children:item});});var viewport=this.state.viewport;return/*#__PURE__*/_jsx(ReactMapGL,{style:{position:\"fixed\",width:window.innerWidth,height:window.innerHeight,backgroundSize:\"cover\",zIndex:-1},width:viewport.width,height:viewport.height,latitude:viewport.latitude,longitude:viewport.longitude,zoom:viewport.zoom,mapStyle:\"mapbox://styles/elijahahmad/ckggklsqg3atg1aokg07dhotu\",onViewportChange:function onViewportChange(viewport){return _this3.setState({viewport:viewport});},mapboxApiAccessToken:MAPBOX_TOKEN,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{backgroundColor:\"rgba(0, 0, 0, 0.80)\",color:\"#d4d4d4\",height:window.innerHeight,width:window.innerWidth},children:[/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",className:\"bg-transparent\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"bg-transparent\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"COVID Tracker\"}),/*#__PURE__*/_jsx(\"p\",{children:\" A very (very) simple COVID-19 Web Tracker\"}),/*#__PURE__*/_jsxs(Dropdown,{children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{as:this.CustomToggle,id:\"dropdown-custom-components\",children:this.state.country}),/*#__PURE__*/_jsx(Dropdown.Menu,{as:this.CustomMenu,children:this.items})]})]}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"bg-transparent\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Active Cases: \",this.state.information[\"Active\"]]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"bg-transparent\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Confirmed Cases: \",this.state.information[\"Confirmed\"]]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"bg-transparent\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Current Deaths: \",this.state.information[\"Deaths\"]]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:\"row\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:window.innerHeight/2.5,width:window.innerWidth/8,display:'flex',flexDirection:\"row-reverse\"},children:/*#__PURE__*/_jsx(\"p\",{style:{writingMode:'vertical-lr'},children:\"Number of Confirmed Deaths\"})}),/*#__PURE__*/_jsxs(LineChart,{width:window.innerWidth/8*6,height:window.innerHeight/2.5,data:this.state.backgroundData,margin:{top:5,right:20,left:10,bottom:5},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"Date\",padding:{left:30,right:30}}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"left\"}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"right\",orientation:\"right\"}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(CartesianGrid,{stroke:\"#f5f5f5\"}),/*#__PURE__*/_jsx(Line,{yAxisId:\"left\",type:\"monotone\",dataKey:\"Deaths\",stroke:\"#8884d8\",activeDot:{r:8}}),/*#__PURE__*/_jsx(Line,{yAxisId:\"right\",type:\"monotone\",dataKey:\"Confirmed\",stroke:\"#82ca9d\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:window.innerHeight/2.5,width:window.innerWidth/8,display:\"flex\"},children:/*#__PURE__*/_jsx(\"p\",{style:{writingMode:'vertical-lr'},children:\"Number of Confirmed Cases\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Follow me on my social media accounts:\"}),/*#__PURE__*/_jsxs(\"a\",{style:{color:\"inherit\",textDecoration:'none'},href:\"https://www.snapchat.com/add/elijah.ahmad\",children:[/*#__PURE__*/_jsx(FaSnapchat,{}),\" Snapchat - @Elijah.Ahmad\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"a\",{style:{color:\"inherit\",textDecoration:'none'},href:\"https://www.instagram.com/ElijahAhmad__\",children:[/*#__PURE__*/_jsx(FaInstagram,{}),\" Instagram - @ElijahAhmad__\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"a\",{style:{color:\"inherit\",textDecoration:'none'},href:\"https://www.facebook.com/elijah.ahmad.71\",children:[/*#__PURE__*/_jsx(FaFacebook,{}),\" FaceBook - Elijah Ahmad\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"a\",{style:{color:\"inherit\",textDecoration:'none'},href:\"https://www.linkedin.com/in/elijah-ahmad-658a2b199/\",children:[/*#__PURE__*/_jsx(FaLinkedin,{}),\" Linkden - Elijah Ahmad\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"a\",{style:{color:\"inherit\",textDecoration:'none'},href:\"https://github.com/sp1d5r\",children:[/*#__PURE__*/_jsx(FaGithub,{}),\" GitHub - @sp1d5r\"]})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/almazahmad/WebstormProjects/covid-webapp/src/App.js"],"names":["React","Component","useState","LineChart","XAxis","YAxis","CartesianGrid","Line","Tooltip","Legend","FaSnapchat","FaInstagram","FaLinkedin","FaGithub","FaFacebook","ReactMapGL","Dropdown","FormControl","ListGroup","params","country","App","props","onSelected","viewport","item","setState","CustomToggle","forwardRef","ref","children","onClick","color","textDecoration","e","preventDefault","CustomMenu","style","className","labeledBy","value","setValue","target","Children","toArray","filter","child","toLowerCase","startsWith","updateInformation","fetch","then","res","json","data","information","width","window","innerWidth","height","innerHeight","latitude","Lat","parseInt","longitude","Lon","zoom","console","log","state","backgroundData","listOfCountries","items","map","indexOf","position","backgroundSize","zIndex","MAPBOX_TOKEN","backgroundColor","display","flexDirection","writingMode","top","right","left","bottom","r"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport './App.css';\nimport {LineChart, XAxis, YAxis, CartesianGrid, Line, Tooltip, Legend} from 'recharts';\nimport { FaSnapchat, FaInstagram, FaLinkedin, FaGithub, FaFacebook } from 'react-icons/fa';\nimport ReactMapGL from 'react-map-gl';\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport {Dropdown, FormControl, ListGroup,} from \"react-bootstrap\";\n\n\n\nconst params = {\n    country: \"ca\"\n}\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            information: {},\n            viewport: {\n                width: window.innerWidth,\n                height: window.innerHeight,\n                latitude: 37.7577,\n                longitude: -122.4376,\n                zoom: 4\n            },\n            country: \"United Kingdom\",\n            value: '',\n            listOfCountries: [],\n            backgroundData: {},\n        }\n\n    }\n\n    componentWillMount() {\n        fetch('/yesterday/uk').then(res => res.json()).then(data => {\n            this.setState({information: data[0], viewport: {width: window.innerWidth,\n                    height: window.innerHeight,\n                    latitude: (data[0].Lat ? parseInt((data[0].Lat)): 0), longitude: (data[0].Lon ? parseInt((data[0].Lon)): 0),\n                    zoom: 4\n                }});\n        });\n        fetch('get_confirmed_and_deaths_from_country/uk').then(res => res.json()).then(data => {\n            this.setState({backgroundData: data})\n            console.log(this.state)\n        })\n        fetch('/get_country_list').then(res => res.json()).then(data =>{\n            this.setState({listOfCountries: data})\n            console.log(this.state.listOfCountries);\n        })\n    }\n\n    onSelected = (viewport, item) => {\n        this.setState({\n            viewport\n        })\n    }\n\n    CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n        <a\n            style={{color: \"inherit\", textDecoration: 'none'}}\n            href=\"\"\n            ref={ref}\n            onClick={(e) => {\n                e.preventDefault();\n                onClick(e);\n            }}\n        >\n            {children+\" \"}\n            &#x25bc;\n        </a>\n    ));\n\n// forwardRef again here!\n// Dropdown needs access to the DOM of the Menu to measure it\n    CustomMenu = React.forwardRef(\n        ({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\n            const [value, setValue] = useState('');\n\n            return (\n                <div\n                    ref={ref}\n                    style={style}\n                    className={className}\n                    aria-labelledby={labeledBy}\n                >\n                    <FormControl\n                        autoFocus\n                        className=\"mx-3 my-2 w-auto\"\n                        placeholder=\"Type to filter...\"\n                        onChange={(e) => setValue(e.target.value)}\n                        value={value}\n                    />\n                    <ul className=\"list-unstyled\">\n                        {React.Children.toArray(children).filter(\n                            (child) =>\n                                !value || child.props.children.toLowerCase().startsWith(value),\n                        )}\n                    </ul>\n                </div>\n            );\n        },\n    );\n\n    updateInformation = (country) =>{\n        this.setState({country: country});\n        fetch('/yesterday/'+country).then(res => res.json()).then(data => {\n            this.setState({information: data[0], viewport: {width: window.innerWidth,\n                    height: window.innerHeight,\n                    latitude: (data[0].Lat ? parseInt((data[0].Lat)): 0), longitude: (data[0].Lon ? parseInt((data[0].Lon)): 0),\n                    zoom: 4\n                }});\n            console.log(this.state);\n        });\n        fetch('get_confirmed_and_deaths_from_country/'+country).then(res => res.json()).then(data => {\n            this.setState({backgroundData: data})\n            console.log(this.state)\n        })\n\n    }\n\n    render() {\n        this.items = this.state.listOfCountries.map((item) =>\n            <Dropdown.Item eventKey={this.state.listOfCountries.indexOf(item)} active={item===this.state.country} onClick={() => this.updateInformation(item)}>{item}</Dropdown.Item>\n        );\n\n        const { viewport } = this.state;\n        return (\n            <ReactMapGL\n                style={{\n                    position: \"fixed\",\n                    width: window.innerWidth,\n                    height: window.innerHeight,\n                    backgroundSize: \"cover\",\n                    zIndex: -1,\n                }}\n                width={viewport.width}\n                height={viewport.height}\n                latitude={viewport.latitude}\n                longitude={viewport.longitude}\n                zoom={viewport.zoom}\n                mapStyle=\"mapbox://styles/elijahahmad/ckggklsqg3atg1aokg07dhotu\"\n                onViewportChange={(viewport) => this.setState({viewport})}\n                mapboxApiAccessToken={MAPBOX_TOKEN}\n            >\n                <div className=\"App\" style={{backgroundColor: \"rgba(0, 0, 0, 0.80)\", color: \"#d4d4d4\", height: window.innerHeight, width: window.innerWidth}}>\n\n                    <ListGroup variant=\"flush\" className={\"bg-transparent\"}>\n                        <ListGroup.Item className={\"bg-transparent\"}>\n                            <h2>COVID Tracker</h2>\n                            <p> A very (very) simple COVID-19 Web Tracker</p>\n                            <Dropdown>\n                                <Dropdown.Toggle as={this.CustomToggle} id=\"dropdown-custom-components\">\n                                    {this.state.country}\n                                </Dropdown.Toggle>\n\n                                <Dropdown.Menu as={this.CustomMenu}>\n                                    {this.items}\n                                </Dropdown.Menu>\n                            </Dropdown>\n                        </ListGroup.Item>\n                        <ListGroup.Item className={\"bg-transparent\"}>\n                            <p>Active Cases: {this.state.information[\"Active\"]}</p>\n                        </ListGroup.Item>\n                        <ListGroup.Item className={\"bg-transparent\"}>\n                            <p>Confirmed Cases: {this.state.information[\"Confirmed\"]}</p>\n                        </ListGroup.Item>\n                        <ListGroup.Item className={\"bg-transparent\"}>\n                            <p>Current Deaths: {this.state.information[\"Deaths\"]}</p>\n                        </ListGroup.Item>\n                    </ListGroup>\n                    <br/>\n                    <div style={{display: 'flex', flexDirection: \"row\", }}>\n                        <div style={{height: window.innerHeight/2.5, width: window.innerWidth/8, display: 'flex', flexDirection: \"row-reverse\"}}>\n                            <p style={{writingMode: 'vertical-lr', }}>Number of Confirmed Deaths</p>\n                        </div>\n                        <LineChart\n                            width={(window.innerWidth/8)*6}\n                            height={window.innerHeight/2.5}\n                            data={this.state.backgroundData}\n                            margin={{ top: 5, right: 20, left: 10, bottom: 5 }}\n                        >\n                            <XAxis dataKey=\"Date\" padding={{ left: 30, right: 30 }}/>\n                            <Tooltip />\n                            <YAxis yAxisId=\"left\" />\n                            <YAxis yAxisId=\"right\" orientation=\"right\" />\n                            <Legend/>\n                            <CartesianGrid stroke=\"#f5f5f5\" />\n                            <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"Deaths\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\n                            <Line yAxisId=\"right\" type=\"monotone\" dataKey=\"Confirmed\" stroke=\"#82ca9d\" />\n                        </LineChart>\n                        <div style={{height: window.innerHeight/2.5, width: window.innerWidth/8, display:\"flex\"}}>\n                            <p style={{writingMode: 'vertical-lr', }}>Number of Confirmed Cases</p>\n                        </div>\n                    </div>\n                    <br/>\n                    <p>Follow me on my social media accounts:</p>\n                    <a style={{color: \"inherit\", textDecoration: 'none'}} href={\"https://www.snapchat.com/add/elijah.ahmad\"}><FaSnapchat/> Snapchat - @Elijah.Ahmad</a>\n                    <br/>\n                    <a style={{color: \"inherit\", textDecoration: 'none'}} href={\"https://www.instagram.com/ElijahAhmad__\"}><FaInstagram/> Instagram - @ElijahAhmad__</a>\n                    <br/>\n                    <a style={{color: \"inherit\", textDecoration: 'none'}} href={\"https://www.facebook.com/elijah.ahmad.71\"}><FaFacebook/> FaceBook - Elijah Ahmad</a>\n                    <br/>\n                    <a style={{color: \"inherit\", textDecoration: 'none'}} href={\"https://www.linkedin.com/in/elijah-ahmad-658a2b199/\"}><FaLinkedin/> Linkden - Elijah Ahmad</a>\n                    <br/>\n                    <a style={{color: \"inherit\", textDecoration: 'none'}} href={\"https://github.com/sp1d5r\"}><FaGithub/> GitHub - @sp1d5r</a>\n                </div>\n\n            </ReactMapGL>\n\n        );\n    }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}